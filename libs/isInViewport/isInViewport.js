(function($){"use strict";$.fn.onScreen=function(opts){var namespace="onscreen";var $this=this;var _el=[];var defaults={visible:undefined,continuousVisible:undefined,hidden:undefined,continuousHidden:undefined};var options=$.extend({},defaults,opts);var isElementOnScreen=function($el,scrollTop){var elementBottom=$el.offset().top+$el.outerHeight();var elementTop=$el.offset().top-scrollTop;if(elementTop<=$(window).height()&&(elementBottom-scrollTop)>=0){return true;}else{return false;}};var onScroll=function(e){$.each(_el,function(){if(isElementOnScreen($(this),$(window).scrollTop())){if($(this).data(namespace+":visible")===false||$(this).data(namespace+":visible")===undefined){if(options.visible!==undefined&&typeof options.visible=="function"){options.visible.call(this);}$(this).trigger(namespace+":visible");}if(options.continuousVisible!==undefined&&typeof options.continuousVisible=="function"){options.continuousVisible.call(this);}$(this).data(namespace+":visible",true);}else{if($(this).data(namespace+":visible")===true){if(options.hidden!==undefined&&typeof options.hidden=="function"){options.hidden.call(this);}$(this).trigger(namespace+":hidden");}if(options.continuousHidden!==undefined&&typeof options.continuousHidden=="function"){options.continuousHidden.call(this);}$(this).data(namespace+":visible",false);}});};var init=function(){$(window).on("scroll",onScroll);return $this.each(function(){_el.push($(this));$(window).trigger("scroll");});};return init();};}(jQuery));